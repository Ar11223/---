<view class="container"><view class="activity-info"><text class="activity-name">{{activity.name}}</text><text class="activity-time">{{activity.time}}</text><text class="activity-location">{{activity.location}}</text></view><view class="form-section"><block wx:if="{{activity.useCode}}"><view class="form-group"><text class="label">验证码</text><input class="input" placeholder="请输入验证码" type="number" maxlength="6" data-event-opts="{{[['input',[['__set_model',['$0','code','$event',[]],['form']]]]]}}" value="{{form.code}}" bindinput="__e"/></view></block><block wx:for="{{activity.requiredFields}}" wx:for-item="field" wx:for-index="index" wx:key="index"><view class="form-group"><text class="label">{{field.label}}</text><input class="input" placeholder="{{'请输入'+field.label}}" data-event-opts="{{[['input',[['__set_model',['$0','$1','$event',[]],['form.userInfo',[['activity.requiredFields','',index,'name']]]]]]]}}" value="{{form.userInfo[field.name]}}" bindinput="__e"/></view></block><button class="submit-btn" disabled="{{!canSubmit}}" data-event-opts="{{[['tap',[['onSubmit',['$event']]]]]}}" bindtap="__e">开始抽签</button></view><block wx:if="{{showResult}}"><view class="result-popup"><view class="result-content"><view class="result-title">抽签结果</view><view class="result-value">{{result}}</view><button data-event-opts="{{[['tap',[['hideResult',['$event']]]]]}}" class="close-btn" bindtap="__e">确定</button></view></view></block></view>